# Documentation Site - AI Context

## Site Purpose
Official documentation website for Suspensive libraries. Built with Next.js and Nextra for a modern, searchable documentation experience.

## Tech Stack
- **Framework**: Next.js 15 (App Router)
- **Documentation**: Nextra (MDX-based)
- **Styling**: Tailwind CSS
- **Search**: Pagefind
- **i18n**: Built-in Next.js internationalization

## Directory Structure

```
docs/suspensive.org/
├── src/
│   ├── app/                    # Next.js app directory
│   │   └── [lang]/            # Language-specific routes
│   ├── content/               # MDX documentation files
│   │   ├── en/               # English documentation
│   │   │   └── docs/         # Organized by package
│   │   └── ko/               # Korean documentation
│   │       └── docs/
│   ├── components/           # React components for docs
│   └── utils/                # Utility functions
├── public/                   # Static assets
└── next.config.mjs          # Next.js configuration
```

## Content Structure

Documentation is organized by package:
- `/docs/react/` - @suspensive/react docs
- `/docs/react-query/` - @suspensive/react-query docs
- `/docs/react-dom/` - @suspensive/react-dom docs
- `/docs/codemods/` - @suspensive/codemods docs
- etc.

Each section includes:
- `installation.mdx` - Installation guide
- `motivation.mdx` - Why the package exists
- Component/hook documentation files
- `migration/` - Migration guides

## Languages

- **English** (`/en/`): Primary language
- **Korean** (`/ko/`): Secondary language

When updating docs:
1. Update English version first
2. Update Korean version with equivalent content
3. Maintain same file structure in both languages

## MDX Features

### Code Blocks
```tsx
// Syntax highlighting with tsx/typescript/javascript
<Suspense fallback={<Loading />}>
  <Component />
</Suspense>
```

### Components
Import and use React components in MDX:
```mdx
import { Callout } from 'components/Callout'

<Callout type="warning">
  Important note here
</Callout>
```

### Nextra Features
- Automatic table of contents
- File-based routing
- Built-in search
- Dark mode support
- Mobile responsive

## Building Documentation

```bash
# Development
pnpm run dev

# Production build
pnpm run build

# Start production server
pnpm run start
```

## Writing Documentation Guidelines

### 1. Structure
- Use clear headings (##, ###)
- Include code examples for all APIs
- Add "Why?" sections to explain motivation
- Include common use cases

### 2. Code Examples
- Show realistic use cases
- Include imports
- Add comments for complex code
- Demonstrate both simple and advanced usage

### 3. API Documentation
- List all props/parameters
- Specify types
- Mark required vs optional
- Include default values

### 4. Links
- Link to related documentation
- Link to external resources (React docs, TanStack Query docs)
- Use relative links for internal pages

## Common Patterns

### API Documentation Page
```mdx
# ComponentName

Brief description of what it does.

## Installation

Install instructions...

## Usage

Basic usage example...

## Props

| Prop | Type | Required | Default | Description |
|------|------|----------|---------|-------------|
| prop1 | string | Yes | - | What it does |

## Examples

### Basic Example
Code example...

### Advanced Example
More complex example...
```

## Important Files

- `next.config.mjs`: Next.js configuration with Nextra
- `src/app/[lang]/layout.tsx`: Root layout with theme provider
- `src/content/en/docs/_meta.tsx`: English docs navigation
- `src/content/ko/docs/_meta.tsx`: Korean docs navigation

## Deployment

Documentation is deployed via GitHub Actions:
- On push to main branch
- Deploys to suspensive.org
- Automatically runs build and deploy

## Search

Pagefind provides client-side search:
- Runs after build
- Indexes all documentation pages
- Supports multiple languages
- Fast, zero-network search

## Styling

- Uses Tailwind CSS
- Custom theme in `tailwind.config.js`
- Dark mode support via `next-themes`
- Responsive design for mobile/tablet/desktop

## Performance

- Static generation for all docs pages
- Optimized images with Next.js Image
- Code splitting by route
- Fast page loads with static export
