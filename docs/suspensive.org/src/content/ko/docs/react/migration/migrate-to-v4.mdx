# v4로 마이그레이션하기

## BREAKING CHANGES 처리하기

### ErrorBoundary의 `onError` prop이 `onCatch`로 이름 변경 [#1783](https://github.com/toss/suspensive/issues/1783)

`ErrorBoundary`의 `onError` prop이 React의 네이밍 컨벤션에 더 잘 맞추고 API 일관성을 개선하기 위해 `onCatch`로 이름이 변경되었습니다.

이 변경으로 네이밍 패턴이 일치하여 API가 더 직관적이 됩니다:
- `shouldCatch` - 에러를 캐치할지 결정합니다
- `componentDidCatch` - 에러를 캐치하는 React 생명주기 메서드
- `onCatch` - 에러가 캐치될 때 호출되는 콜백

#### 마이그레이션

`onError` prop을 `onCatch`로 이름만 변경하면 됩니다:

```diff
  import { ErrorBoundary } from '@suspensive/react'

  const logError = (error: Error, info: ErrorInfo) => {
    console.log(error, info)
  }

  const Example = () => (
    <ErrorBoundary
      fallback={(props) => (
        <>
          <button onClick={props.reset}>Try again</button>
          {props.error.message}
        </>
      )}
-     onError={logError}
+     onCatch={logError}
    >
      <YourComponent />
    </ErrorBoundary>
  )
```

`ErrorBoundary.with`를 사용할 때도 동일하게 적용됩니다:

```diff
  import { ErrorBoundary } from '@suspensive/react'

  const Example = ErrorBoundary.with(
    {
      fallback: ({ error }) => <>{error.message}</>,
-     onError: logger.log,
+     onCatch: logger.log,
    },
    YourComponent
  )
```
