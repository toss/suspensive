import { Callout, Sandpack } from '@/components'

# PrefetchQuery

React hookì˜ ì œì•½ì„ í”¼í•´ JSXìƒì—ì„œë„ usePrefetchQueryë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ì…ë‹ˆë‹¤

```jsx /PrefetchQuery/
import { PrefetchQuery, useSuspenseQuery, queryOptions } from '@suspensive/react-query'
import { InView } from '@suspensive/react-dom'
import { useQuery } from '@tanstack/react-query'

const PostsPage = () => {
  const { data: posts } = useSuspenseQuery(query.posts())

  return posts.map(({ id, title, description }) => (
    <InView>
      {({ ref, isInView }) => {
        return (
          <>
            {isInView ? (
              // ğŸš« React hookì˜ ì œì•½ìœ¼ë¡œ usePrefetchQueryë¥¼ ì‚¬ìš©í•˜ì§€ ëª»í•©ë‹ˆë‹¤
              // usePrefetchQuery(query.post(post.id))

              // âœ… Post í˜ì´ì§€ì— ë“¤ì–´ê°€ê¸° ì „ì— ê°ê°ì˜ post queryì— ëŒ€í•´ usePrefetchë¥¼ í˜¸ì¶œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
              <PrefetchQuery {...query.post(id)} />
            ) : null}
            <Link to={`/post/${id}`}>
              <div ref={ref}>
                <h2>{title}</h2>
                <p>{description}</p>
              </div>
            </Link>
          </>
        )
      }}
    </InView>
  ))
}

const query = {
  posts: () =>
    queryOptions({
      queryKey: ['posts'],
      queryFn: () => getPosts(),
    }),
  post: (postId) =>
    queryOptions({
      queryKey: ['posts', postId],
      queryFn: () => getPost(postId),
    }),
}
```
