import { Callout, Sandpack } from '@/components'

# PrefetchQuery

React hookì˜ ì œì•½ì„ í”¼í•´ JSXìƒì—ì„œë„ usePrefetchQueryë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ì…ë‹ˆë‹¤.

```jsx /PrefetchQuery/
import { PrefetchQuery, useSuspenseQuery } from '@suspensive/react-query'
import { InView } from '@suspensive/react-dom'

const PostsPage = () => {
  const { data: posts } = useSuspenseQuery({
    queryKey: ['posts'],
    queryFn: () => getPosts(),
  })

  return posts.map((post) => (
    <InView>
      {({ ref, isInView }) => (
        <>
          {isInView ? (
            // ğŸš« React hookì˜ ì œì•½ìœ¼ë¡œ usePrefetchQueryë¥¼ ì‚¬ìš©í•˜ì§€ ëª»í•©ë‹ˆë‹¤
            // usePrefetchQuery({
            //   queryKey: ['posts', post.id, 'comments'],
            //   queryFn: () => getPostComments(post.id),
            // })

            // âœ… Post Comments í˜ì´ì§€ì— ë“¤ì–´ê°€ê¸° ì „ì— ê°ê°ì˜ post comments queryì— ëŒ€í•´ usePrefetchQueryë¥¼ í˜¸ì¶œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
            <PrefetchQuery
              queryKey={['posts', post.id, 'comments']}
              queryFn={() => getPostComments(post.id)}
            />
          ) : null}
          <div ref={ref}>
            <h2>{post.title}</h2>
            <p>{post.description}</p>
            <Link to={`/posts/${post.id}/comments`}>See comments</Link>
          </div>
        </>
      )}
    </InView>
  ))
}
```
