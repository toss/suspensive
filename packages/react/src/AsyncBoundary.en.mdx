---
sidebar_position: 4
title: <AsyncBoundary/>
---

`<AsyncBoundary/>` wraps @suspensive/react's [`<Suspense/>`](./Suspense.i18n) and [`<ErrorBoundary/>`](./ErrorBoundary.i18n) to use them at once.

### AsyncBoundaryProps

```tsx
type AsyncBoundaryProps = Omit<SuspenseProps, 'fallback'> &
  Omit<ErrorBoundaryProps, 'fallback'> & {
    pendingFallback?: SuspenseProps['fallback']
    rejectedFallback: ErrorBoundaryProps['fallback']
  }
```

```tsx
import { AsyncBoundary } from '@suspensive/react'

const Example = () => (
  <AsyncBoundary
    pendingFallback={<Loading />}
    rejectedFallback={(errorBoundary) => (
      <>
        <button onClick={errorBoundary.reset}>reset</button>
        {JSON.stringify(errorBoundary.error)}
      </>
    )}
    onReset={() => console.log('reset')}
    onError={(error) => console.log(JSON.stringify(error))}
  >
    <Children />
  </AsyncBoundary>
)
```

### Avoid Server side rendering (CSROnly)

Since it wraps `<Suspense.CSROnly/>`, it provides the same CSROnly.

```tsx
import { AsyncBoundary } from '@suspensive/react'

const Example = () => (
  <AsyncBoundary.CSROnly
    pendingFallback={<Loading />}
    rejectedFallback={(errorBoundary) => (
      <>
        <button onClick={errorBoundary.reset}>reset</button>
        {JSON.stringify(errorBoundary.error)}
      </>
    )}
    onReset={() => console.log('reset')}
    onError={(error) => console.log(JSON.stringify(error))}
  >
    <Children />
  </AsyncBoundary>
)
```

## withAsyncBoundary

```tsx
import { AsyncBoundary } from '@suspensive/react'

const Example = withAsyncBoundary(
  function Component() {
    return <>...</>
  },
  {
    pendingFallback: <Loading />,
    rejectedFallback: (errorBoundary) => (
      <>
        <button onClick={errorBoundary.reset}>reset</button>
        {JSON.stringify(errorBoundary.error)}
      </>
    ),
    onReset: () => console.log('reset'),
    onError: (error) => console.log(JSON.stringify(error)),
  }
)
```
